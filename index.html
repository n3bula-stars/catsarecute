<!DOCTYPE html>
<html>
<head>
  <title>Chaos Demo</title>
  <meta charset="UTF-8">
  <meta name="theme-color" content="#ff0000">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: sans-serif;
      background: black;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      transition: 0.1s;
    }

    h1 {
      font-size: 3rem;
      text-align: center;
      z-index: 2;
    }

    .floating {
      position: absolute;
      font-size: 2rem;
      pointer-events: none;
    }

    video {
      position: fixed;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.3;
      z-index: 0;
    }
  </style>
</head>
<body>

<h1>Click Anywhere To Start Chaos</h1>

<script>
let chaosStarted = false;
let intervals = [];
let popups = [];
let audioCtx, oscillator, gain;
let intensity = 1;

document.body.addEventListener("click", () => {
  if (chaosStarted) return;
  chaosStarted = true;

  document.querySelector("h1").textContent = "GOOD LUCK.";

  startColorChaos();
  startFloatingText();
  startShaking();
  startAudioChaos();
  startThemeColorChaos();
  startPopupStorm();
  startFlashWarnings();
  increaseIntensity();
});

document.addEventListener("keydown", (e) => {
  if (e.key === "Escape") stopChaos();
});

function addInterval(fn, time) {
  const id = setInterval(fn, time);
  intervals.push(id);
}

function stopChaos() {
  intervals.forEach(clearInterval);
  intervals = [];
  popups.forEach(p => p.remove());
  popups = [];

  if (oscillator) oscillator.stop();
  if (audioCtx) audioCtx.close();

  document.body.style.transform = "none";
  document.body.style.filter = "none";
  document.body.style.background = "black";
  document.querySelector("h1").textContent =
    "Chaos Stopped (Refresh)";
  chaosStarted = false;
}

/* ðŸ”´ RED / BLACK STROBE */
function startColorChaos() {
  addInterval(() => {
    document.body.style.background =
      Math.random() > 0.5 ? "red" : "black";
  }, 60);

  addInterval(() => {
    if (Math.random() < 0.3)
      document.body.style.filter =
        "invert(1) contrast(3)";
    else
      document.body.style.filter = "none";
  }, 120);
}

/* ðŸ‘» SCARY FLOATING TEXT */
function startFloatingText() {
  const phrases = [
    "YOU ARE NOT ALONE",
    "RUN",
    "SYSTEM BREACH",
    "IT'S WATCHING",
    "ERROR",
    "NO ESCAPE",
    "GOOD LUCK"
  ];

  addInterval(() => {
    const div = document.createElement("div");
    div.className = "floating";
    div.textContent =
      phrases[Math.floor(Math.random() * phrases.length)];

    div.style.left =
      Math.random() * window.innerWidth + "px";
    div.style.top =
      Math.random() * window.innerHeight + "px";
    div.style.color =
      Math.random() > 0.5 ? "white" : "red";
    div.style.fontSize =
      (20 + Math.random()*40) + "px";

    document.body.appendChild(div);
    setTimeout(() => div.remove(), 1500);
  }, 120);
}

/* ðŸŒ€ EXTREME SHAKE */
function startShaking() {
  addInterval(() => {
    document.body.style.transform =
      `translate(${Math.random()*40-20}px,
                 ${Math.random()*40-20}px)
       rotate(${Math.random()*10-5}deg)
       scale(${1+Math.random()*0.3})`;
  }, 40);
}

/* ðŸ”Š MORE DISTURBING AUDIO */
function startAudioChaos() {
  audioCtx = new (window.AudioContext ||
                  window.webkitAudioContext)();
  oscillator = audioCtx.createOscillator();
  gain = audioCtx.createGain();

  oscillator.type = "sawtooth";
  oscillator.connect(gain);
  gain.connect(audioCtx.destination);

  gain.gain.value = 0.07;
  oscillator.start();

  addInterval(() => {
    oscillator.frequency.value =
      50 + Math.random()*2000*intensity;
  }, 80);
}

/* ðŸ§¨ POPUP SWARM */
function startPopupStorm() {
  addInterval(() => {
    for (let i=0; i<intensity; i++) createPopup();
  }, 400);

  addInterval(movePopups, 20);
}

function createPopup() {
  const div = document.createElement("div");
  div.style.position = "fixed";
  div.style.width = "200px";
  div.style.height = "100px";
  div.style.background = "white";
  div.style.color = "black";
  div.style.padding = "10px";
  div.style.fontWeight = "bold";
  div.style.boxShadow = "0 0 30px red";

  div.innerHTML = "âš  SYSTEM BREACH";

  div.style.left =
    Math.random()*(window.innerWidth-200)+"px";
  div.style.top =
    Math.random()*(window.innerHeight-100)+"px";

  div.vx = (Math.random()-0.5)*25;
  div.vy = (Math.random()-0.5)*25;

  document.body.appendChild(div);
  popups.push(div);
}

function movePopups() {
  popups.forEach(div => {
    let x = div.offsetLeft + div.vx;
    let y = div.offsetTop + div.vy;

    if (x <= 0 || x+200 >= window.innerWidth)
      div.vx *= -1;
    if (y <= 0 || y+100 >= window.innerHeight)
      div.vy *= -1;

    div.style.left = x+"px";
    div.style.top = y+"px";
  });
}

/* ðŸ’¥ FAKE SYSTEM WARNING FLASH */
function startFlashWarnings() {
  addInterval(() => {
    if (Math.random() < 0.2) {
      const overlay = document.createElement("div");
      overlay.style.position="fixed";
      overlay.style.inset="0";
      overlay.style.background="black";
      overlay.style.color="red";
      overlay.style.display="flex";
      overlay.style.alignItems="center";
      overlay.style.justifyContent="center";
      overlay.style.fontSize="40px";
      overlay.style.zIndex="9999";
      overlay.innerText = "CRITICAL ERROR";

      document.body.appendChild(overlay);
      setTimeout(()=>overlay.remove(),300);
    }
  }, 1000);
}

/* ðŸ“ˆ INTENSITY BUILDS */
function increaseIntensity() {
  addInterval(() => {
    intensity += 1;
  }, 5000);
}

  function startFakeLag() {
  setInterval(() => {
    // Freeze frame effect
    document.body.style.transition = "none";
    document.body.style.filter = "blur(4px) contrast(3)";
    
    setTimeout(() => {
      document.body.style.transition = "0.15s";
      document.body.style.filter = "none";
    }, 120);
  }, 400);
}
  
/* ðŸŽ¨ THEME COLOR CHAOS */
function startThemeColorChaos() {
  const meta = document.querySelector(
    'meta[name="theme-color"]'
  );

  addInterval(() => {
    meta.setAttribute(
      "content",
      Math.random()>0.5 ? "#ff0000" : "#000000"
    );
  }, 100);
}
</script>

</body>
</html>
